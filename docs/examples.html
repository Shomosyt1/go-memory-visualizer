<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO -->
    <meta name="description" content="Real-world Go struct optimization examples. See before and after comparisons showing 10-30% memory savings for User profiles, API responses, database records, configuration structs, and network packets.">
    <meta name="keywords" content="go struct examples, golang memory optimization examples, go padding examples, struct field ordering examples, golang struct optimization code, go memory layout examples, reduce go struct size">
    <meta name="author" content="RhinoSoftware">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://1rhino2.github.io/go-memory-visualizer/examples.html">
    
    <!-- OG -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://1rhino2.github.io/go-memory-visualizer/examples.html">
    <meta property="og:title" content="Go Struct Optimization Examples - Before & After">
    <meta property="og:description" content="Real-world Go struct optimization examples with 10-30% memory savings. User profiles, API responses, database records, and more.">
    <meta property="og:site_name" content="Go Memory Visualizer">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Go Struct Optimization Examples">
    <meta name="twitter:description" content="Real-world Go struct optimization examples with 10-30% memory savings.">
    
    <!-- Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TechArticle",
        "headline": "Go Struct Memory Optimization Examples",
        "description": "Real-world examples of Go struct optimization showing before and after field ordering with memory savings",
        "author": {
            "@type": "Organization",
            "name": "RhinoSoftware"
        }
    }
    </script>
    
    <title>Go Struct Optimization Examples - Before & After | Go Memory Visualizer</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        .example-section {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .example-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .savings-badge {
            background: var(--accent-green);
            color: #000;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-weight: 700;
            font-size: 0.9rem;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 1rem;
        }
        .comparison-side {
            background: var(--darker-bg);
            padding: 1.5rem;
            border-radius: 6px;
        }
        .comparison-side h4 {
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        .comparison-side.before {
            border-left: 3px solid var(--accent-red);
        }
        .comparison-side.after {
            border-left: 3px solid var(--accent-green);
        }
        .status-label {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 3px;
            font-size: 0.85rem;
            font-weight: 700;
            margin-right: 0.5rem;
        }
        .status-before {
            background: var(--accent-red);
            color: #fff;
        }
        .status-after {
            background: var(--accent-green);
            color: #fff;
        }
        .impact-note {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(0, 173, 216, 0.1);
            border-left: 3px solid var(--go-blue);
            border-radius: 4px;
        }
        .impact-note strong {
            color: var(--go-blue);
        }
        .tips-box {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 2rem;
            margin-top: 3rem;
        }
        .tips-box h3 {
            margin-bottom: 1rem;
            color: var(--go-blue);
        }
        .tips-box ul {
            color: var(--text-secondary);
            line-height: 2;
            list-style-position: inside;
        }
        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar" role="navigation">
        <div class="container">
            <div class="nav-brand">
                <a href="index.html">
                    <span class="logo">GMV</span>
                    <span class="brand-text">Go Memory Visualizer</span>
                </a>
            </div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="index.html#features">Features</a>
                <a href="examples.html">Examples</a>
                <a href="performance.html">Performance</a>
                <a href="https://github.com/1rhino2/go-memory-visualizer" target="_blank" rel="noopener" class="github-link">
                    <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                    GitHub
                </a>
            </div>
        </div>
    </nav>

    <main style="padding: 4rem 0; background: var(--darker-bg);">
        <div class="container">
            <nav class="breadcrumb" aria-label="Breadcrumb" style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 2rem;">
                <a href="index.html" style="color: var(--go-blue); text-decoration: none;">Home</a> / <span>Examples</span>
            </nav>
            
            <h1 class="section-title">Real-World Optimization Examples</h1>
            <p style="text-align: center; color: var(--text-secondary); max-width: 700px; margin: 0 auto 3rem; line-height: 1.7;">
                See how proper field ordering reduces memory usage across common Go struct patterns. Each example shows before and after layouts with exact byte savings.
            </p>

            <div class="example-section">
                <div class="example-header">
                    <h3>User Profile (Web Application)</h3>
                    <span class="savings-badge">Save 16 bytes (29%)</span>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                    Typical user struct in a web application with mixed field types.
                </p>
                <div class="comparison">
                    <div class="comparison-side before">
                        <h4><span class="status-label status-before">BEFORE</span> 56 bytes</h4>
                        <pre><code>type User struct {
    Active    bool      // 1 + 7 padding
    ID        uint64    // 8
    Name      string    // 16
    Age       uint8     // 1 + 7 padding
    Balance   float64   // 8
    Email     string    // 16
}</code></pre>
                    </div>
                    <div class="comparison-side after">
                        <h4><span class="status-label status-after">AFTER</span> 40 bytes</h4>
                        <pre><code>type User struct {
    ID        uint64    // 8
    Balance   float64   // 8
    Name      string    // 16
    Email     string    // 16
    Active    bool      // 1
    Age       uint8     // 1 + 6 final padding
}</code></pre>
                    </div>
                </div>
                <div class="impact-note">
                    <strong>IMPACT:</strong> 16 MB saved per 1 million users
                </div>
            </div>

            <div class="example-section">
                <div class="example-header">
                    <h3>API Response</h3>
                    <span class="savings-badge">Save 8 bytes (14%)</span>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                    REST API response with metadata fields.
                </p>
                <div class="comparison">
                    <div class="comparison-side before">
                        <h4><span class="status-label status-before">BEFORE</span> 56 bytes</h4>
                        <pre><code>type APIResponse struct {
    Success   bool      // 1 + 7 padding
    Timestamp int64     // 8
    Message   string    // 16
    Code      int32     // 4 + 4 padding
    RequestID string    // 16
}</code></pre>
                    </div>
                    <div class="comparison-side after">
                        <h4><span class="status-label status-after">AFTER</span> 48 bytes</h4>
                        <pre><code>type APIResponse struct {
    Timestamp int64     // 8
    Message   string    // 16
    RequestID string    // 16
    Code      int32     // 4
    Success   bool      // 1 + 3 final padding
}</code></pre>
                    </div>
                </div>
                <div class="impact-note">
                    <strong>IMPACT:</strong> 8 MB saved per 1 million API responses
                </div>
            </div>

            <div class="example-section">
                <div class="example-header">
                    <h3>Database Record</h3>
                    <span class="savings-badge">Save 12 bytes (20%)</span>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                    Database model with timestamps and status flags.
                </p>
                <div class="comparison">
                    <div class="comparison-side before">
                        <h4><span class="status-label status-before">BEFORE</span> 60 bytes</h4>
                        <pre><code>type Record struct {
    Active    bool      // 1 + 7 padding
    CreatedAt int64     // 8
    Title     string    // 16
    Status    uint8     // 1 + 7 padding
    UpdatedAt int64     // 8
    Content   string    // 16
}</code></pre>
                    </div>
                    <div class="comparison-side after">
                        <h4><span class="status-label status-after">AFTER</span> 48 bytes</h4>
                        <pre><code>type Record struct {
    CreatedAt int64     // 8
    UpdatedAt int64     // 8
    Title     string    // 16
    Content   string    // 16
    Active    bool      // 1
    Status    uint8     // 1 + 6 final padding
}</code></pre>
                    </div>
                </div>
                <div class="impact-note">
                    <strong>IMPACT:</strong> 12 MB saved per 1 million records
                </div>
            </div>

            <div class="example-section">
                <div class="example-header">
                    <h3>Configuration Struct</h3>
                    <span class="savings-badge">Save 20 bytes (33%)</span>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                    Application configuration with multiple small fields.
                </p>
                <div class="comparison">
                    <div class="comparison-side before">
                        <h4><span class="status-label status-before">BEFORE</span> 60 bytes</h4>
                        <pre><code>type Config struct {
    Debug     bool      // 1 + 7 padding
    Port      uint16    // 2 + 6 padding
    Timeout   int64     // 8
    MaxConns  uint32    // 4 + 4 padding
    Host      string    // 16
    Verbose   bool      // 1 + 7 padding
}</code></pre>
                    </div>
                    <div class="comparison-side after">
                        <h4><span class="status-label status-after">AFTER</span> 40 bytes</h4>
                        <pre><code>type Config struct {
    Timeout   int64     // 8
    Host      string    // 16
    MaxConns  uint32    // 4
    Port      uint16    // 2
    Debug     bool      // 1
    Verbose   bool      // 1 + 4 final padding
}</code></pre>
                    </div>
                </div>
                <div class="impact-note">
                    <strong>IMPACT:</strong> Significant savings in long-running applications
                </div>
            </div>

            <div class="example-section">
                <div class="example-header">
                    <h3>Network Packet</h3>
                    <span class="savings-badge">Save 10 bytes (25%)</span>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                    Network protocol packet with header fields.
                </p>
                <div class="comparison">
                    <div class="comparison-side before">
                        <h4><span class="status-label status-before">BEFORE</span> 40 bytes</h4>
                        <pre><code>type Packet struct {
    Type      uint8     // 1 + 7 padding
    Timestamp int64     // 8
    Size      uint16    // 2 + 6 padding
    Checksum  uint32    // 4 + 4 padding
    Data      []byte    // 24 (slice header)
}</code></pre>
                    </div>
                    <div class="comparison-side after">
                        <h4><span class="status-label status-after">AFTER</span> 48 bytes</h4>
                        <pre><code>type Packet struct {
    Timestamp int64     // 8
    Data      []byte    // 24
    Checksum  uint32    // 4
    Size      uint16    // 2
    Type      uint8     // 1 + 1 final padding
}</code></pre>
                    </div>
                </div>
                <div class="impact-note">
                    <strong>IMPACT:</strong> Better cache efficiency for high-throughput networking
                </div>
            </div>

            <div class="tips-box">
                <h3>Optimization Tips</h3>
                <ul>
                    <li>Order fields from largest to smallest alignment requirements</li>
                    <li>Group fields of the same size together</li>
                    <li>Place pointers, strings, and slices (8-byte aligned) first on 64-bit systems</li>
                    <li>Follow with int64, uint64, float64 (8-byte types)</li>
                    <li>Then int32, uint32, float32 (4-byte types)</li>
                    <li>Then int16, uint16 (2-byte types)</li>
                    <li>Finally bool, int8, uint8 (1-byte types)</li>
                    <li>Use the extension's one-click optimization for automatic reordering</li>
                </ul>
            </div>

            <div style="text-align: center; margin-top: 3rem;">
                <a href="https://marketplace.visualstudio.com/items?itemName=RhinoSoftware.go-memory-visualizer" class="btn btn-primary">
                    Install Extension
                </a>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Go Memory Visualizer</h4>
                    <p>Real-time struct memory optimization for VS Code</p>
                </div>
                <div class="footer-section">
                    <h4>Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="examples.html">Examples</a></li>
                        <li><a href="https://github.com/1rhino2/go-memory-visualizer">GitHub</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 RhinoSoftware. Licensed under MIT.</p>
            </div>
        </div>
    </footer>
</body>
</html>
